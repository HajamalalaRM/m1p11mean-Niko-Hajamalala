
<!-- HOME -->
<div *ngIf="isRoute==='home'">
   <h1>WELCOME AT HOME</h1>
</div>


<!-- APPOINTMENTS -->

<!-- SEARCH BY DATE AFTER HAVING THE EMPLOY NOT BUSY -->
<div *ngIf="isRoute==='appointments'">
   <div class="row">
      <div class="col-md-3 grid-margin stretch-card">
         <div class="card">
            <div class="card-body">
               <h5 class="card-title">Appointments</h5>
               <p class="card-description">Choose the datetime</p>
               <!-- NEED TO COMPLETE DATE AND TIME -->
               <div *ngIf="errorMessage === 'need_complete_date_&time'" class="alert alert-danger" role="alert">
                  You must be given the date and time
               </div>
               <form (ngSubmit)="getEmployNotBusy()"  method="post" class="forms-sample">
               
               <div class="form-group">
                  <div class="row">
                     <div class="col-md-12">
                        <label for="exampleFormControlSelect1">Date and time :</label>
                        <input type="datetime-local" [(ngModel)]="datetime" name="datetime" class="form-control">
                     </div>
                  </div>
               </div>
               <br/>
               <div class="row" style="float: right;">
                  <div>
                     <input type="submit" class="btn btn-success mr-2" value="Search">
                     <button routerLink="/home" class="btn btn-light">Cancel</button>
                  </div>
               </div>

               </form>
            </div>
         </div>
      </div>

      <div class="col-md-9 grid-margin stretch-card">
         <div class="card">
            <div class="card-body">
               <h5 class="card-title">Add appointment</h5>
               <p class="card-description">Choose a employe and check the service you want</p>
               <form class="forms-sample">
               
                  <div class="form-group">
                     <label for="exampleFormControlSelect1">Employes free :</label>
                     <select class="form-control" id="exampleFormControlSelect1"
                        #selectElement 
                        name="userEmpId" 
                        (change)="onChangeEmp(selectElement.value)"
                     >
                        <option value="">Choose the employe...</option>
                        <option 
                           *ngFor="let employe of employes" 
                           [value]="employe['_id']"  
                           name="userEmpId" 
                        >                        
                           {{employe['name']}}
                        </option>
                     </select>
                  </div>   
                  <br/>
                  <div class="form-group">
                     <label for="exampleFormControlSelect1">Services :</label>
                     <div class="table-responsive pt-3">
                        <table class="table table-bordered">
                           <thead>
                              <tr>
                                 <th>#</th>
                                 <th>Name</th>
                                 <th>Delay (min)</th>
                                 <th>Price ($)</th>
                                 <th></th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr *ngFor="let service of services; let i = index">
                                 <td>{{ i+1 }}</td>
                                 <td>{{ service['name'] }}</td>
                                 <td>{{ service['durationMinute'] }}</td>
                                 <td>{{ service['coast'] }}</td>
                                 <td  style="text-align: center;">
                                    <input 
                                       type="checkbox" 
                                       (change)="onChangeService($event, service['_id'])" 
                                       [checked]="checkedValues.includes(service['_id'])" 
                                       [value]="service['_id']"
                                       name="servicesId">
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>

                  <br/>
                  <div class="form-group">
                     <label for="exampleFormControlTextarea1">Description :</label>
                     <input class="form-control"
                        #selectDescription
                        type="text" 
                        name="description"
                        (change)="onChangeDescription(selectDescription.value)"
                        placeholder="Enter a description or observation...">
                  </div>
                  <br/>
                  <div class="row" style="float: right;">
                     <div>
                        <button (click)="add_appointment()" type="submit" class="btn btn-success mr-2">Add</button>
                        <button routerLink="/home" class="btn btn-light">Cancel</button>
                     </div>
                  </div>
               </form>
            </div>
         </div>
      </div>
   </div>

   <br/>

   <div class="row">
      <div class="col-md-3 grid-margin stretch-card"></div>

      <div class="col-md-9 grid-margin stretch-card">
         <div class="card">
            <div class="card-body">
               <h5 class="card-title">List of your appointment</h5>
               <p class="card-description">There are the list of your appointment</p>
               <div class="table-responsive pt-3">
                  <table class="table table-bordered">
                  <thead>
                     <tr>
                        <th>#</th>
                        <th>Name of service</th>
                        <th>Delay</th>
                        <th>Price</th>
                        <th>Employ</th>
                        <th>Date</th>
                        <th>Description</th>
                        <th>Status</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr *ngFor="let appointment of appointments; let i = index">
                        <td>{{ i + 1 }}</td>
                        <td>Name service</td>
                        <td>Delay</td>
                        <td>Price</td>
                        <td>userEmpId</td>
                        <!-- <td>{{ appointment['userEmpId'] }}</td> -->
                        <td>{{ appointment['datetime'] }}</td>
                        <td>{{ appointment['description'] }}</td>
                        <td>{{ appointment['status'] }}</td>
                     </tr>
                  </tbody>
               </table>
            </div>
            </div>
         </div>
      </div>
   </div>
</div>

<!-- NOTIFICATIONS -->
<div *ngIf="isRoute==='notifications'">
   <app-notification></app-notification>
</div>

<!-- PREFERENCES -->
<div *ngIf="isRoute==='preferences'">
   <app-preference></app-preference>
</div>

<!-- SERVICES  -->
<div *ngIf="isRoute==='services'">
   <app-service></app-service>
</div>